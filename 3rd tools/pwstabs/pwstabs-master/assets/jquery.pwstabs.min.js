/**
 * PWS Tabs jQuery Plugin
 * Author: Alex Chizhov
 * Author Website: http://alexchizhov.com/pwstabs
 * GitHub: https://github.com/alexchizhovcom/pwstabs
 * Version: 1.5.0
 * Version from: 20.12.2016
 * Licensed under the MIT license
 */
!function(a,b,c,d){function g(b,c){this.element=a(b),this.$elem=a(this.element),this.settings=a.extend({},f,c),this._defaults=f,this._name=e,this.settings.onBeforeFirstInit.call(this),this.init(),this.settings.onAfterFirstInit.call(this)}var e="pwstabs",f={effect:"scale",defaultTab:1,containerWidth:"100%",tabsPosition:"horizontal",horizontalPosition:"top",verticalPosition:"left",responsive:!1,theme:"",rtl:!1,onBeforeFirstInit:function(){},onAfterFirstInit:function(){},onBeforeInit:function(){},onAfterInit:function(){},onBeforeChange:function(){},onAfterChange:function(){}};g.prototype={wrap:function(){this.selector=this.$elem,this.tabs=this.selector.children("[data-pws-tab]"),this.selector.addClass("pws_tabs_list"),this.selector.wrap('<div class="pws_tabs_container"></div>'),this.container=this.selector.closest(".pws_tabs_container")},setContainerWidth:function(){"100%"!==this.settings.containerWidth&&this.container.css("width",this.settings.containerWidth)},setContainerPositionClass:function(){if("vertical"==this.settings.tabsPosition){if(this.container.closest(".pws_tab_single").length){var a=this.container.closest(".pws_tab_single").innerWidth();this.container.css("width",a)}"left"==this.settings.verticalPosition?this.container.addClass("pws_tabs_vertical pws_tabs_vertical_left"):this.container.addClass("pws_tabs_vertical pws_tabs_vertical_right")}else"top"==this.settings.horizontalPosition?this.container.addClass("pws_tabs_horizontal pws_tabs_horizontal_top"):this.container.addClass("pws_tabs_horizontal pws_tabs_horizontal_bottom")},setContainerClasses:function(){this.setContainerPositionClass(),this.arEffects=["scale","slideleft","slideright","slidetop","slidedown","none"],this.settings.rtl&&this.container.addClass("pws_tabs_rtl"),"none"==this.settings.effect&&this.container.addClass("pws_tabs_noeffect"),this.settings.theme&&this.container.addClass(this.settings.theme),a.inArray(this.settings.effect,this.arEffects)>=0?this.container.addClass("pws_"+this.settings.effect):this.container.addClass("pws_scale")},createControlsContainer:function(){"vertical"==this.settings.tabsPosition?"left"==this.settings.verticalPosition?this.container.prepend('<ul class="pws_tabs_controll"></ul>'):this.container.append('<ul class="pws_tabs_controll"></ul>'):"top"==this.settings.horizontalPosition?this.container.prepend('<ul class="pws_tabs_controll"></ul>'):this.container.append('<ul class="pws_tabs_controll"></ul>'),this.controls=this.container.children(".pws_tabs_controll")},setControl:function(a,b){this.controls.append('<li><a data-tab-id="'+a+'">'+b+"</a></li>")},setControls:function(){var b=this,c=1;this.tabs.each(function(){var d=a(this).data("pws-tab"),e=a(this).data("pws-tab-name");b.setControl(d,e),a(this).addClass("pws_tab_single"),c++})},setIcon:function(a,b){this.controls.find('[data-tab-id="'+a+'"]').prepend('<i class="fa '+b+'"></i>')},setIcons:function(){var b=this;this.selector.children("[data-pws-tab-icon]").each(function(){var c=a(this).attr("data-pws-tab"),d=a(this).attr("data-pws-tab-name"),e=a(this).attr("data-pws-tab-icon");""==d&&b.controls.find('[data-tab-id="'+c+'"]').addClass("pws_tab_noname"),b.setIcon(c,e)})},setVerticalSize:function(){if("vertical"==this.settings.tabsPosition){var a=this.container.innerWidth()/450,b=parseInt(this.controller.css("font-size"))/a,c=parseInt(this.controller.css("padding-left"))+parseInt(this.controller.css("padding-right")),d=this.controller.html().length*b+c,e=this.controls.outerHeight(),f=this.container.outerWidth()-d,g=this.selector.outerHeight();this.controls.width(d),this.selector.outerWidth(f),g<e&&this.selector.css("min-height",e)}},setDefaultTab:function(){this.defaultTab.addClass("pws_show").show(),this.controls.find('[data-tab-id="'+this.defaultTab.data("pws-tab")+'"]').addClass("pws_tab_active")},addResponsiveFeature:function(){var c=this;if(c.settings.responsive){c.container.addClass("pws_tabs_responsive");var d=parseInt(c.controls.children("li").length),e=100/d,f=Math.max.apply(null,c.controllerLi.map(function(){return a(this).height()}).get());a(b).on("resize load",function(d){var g=c.settings,h=g.tabsPosition,i=g.containerWidth;a(b).width()<=960&&(c.container.width(""),c.controllerLi.css("width",e+"%"),c.controller.each(function(){a(this).height(f)}),"vertical"==h&&(c.controls.width(""),c.selector.width(""),c.selector.css("min-height",""),c.selector.height(c.defaultTab.height()))),a(b).width()<=600?(c.container.find(".pws_responsive_small_menu").length<1&&a('<div class="pws_responsive_small_menu"><a data-visible="0"><i class="fa fa-bars"></i></a></div>').insertBefore(c.controls),c.controls.addClass("pws_tabs_menu_popup"),c.controller.height(""),c.controllerLi.width(""),c.container.unbind().on("click",".pws_responsive_small_menu a",function(a){a.preventDefault(),c.container.find("ul.pws_tabs_menu_popup").toggleClass("show")}),c.container.find("ul.pws_tabs_menu_popup li a").on("click",function(b){b.preventDefault(),a(this).closest("ul.pws_tabs_menu_popup").removeClass("show")})):a(b).width()>960?(c.container.css("width",i),c.controllerLi.width(""),c.controller.height(""),c.container.find(".pws_responsive_small_menu").remove(),c.controls.removeClass("pws_tabs_menu_popup"),c.controls.show()):a(b).width()>600&&(c.container.find(".pws_responsive_small_menu").remove(),c.controls.removeClass("pws_tabs_menu_popup"),c.controls.show(),c.controller.on("click",function(b){b.preventDefault(),a(this).parent().parent().show()}))})}},init:function(){this.settings.onBeforeInit.call(this);var b=this;this.wrap(),this.setContainerWidth(),this.setContainerClasses(),this.createControlsContainer(),this.setControls(),this.tabs.addClass("pws_hide").hide(),this.controller=this.controls.find("a"),this.controllerLi=this.controls.find("li"),this.defaultTab=this.tabs.eq(this.settings.defaultTab-1),this.setIcons(),this.setVerticalSize(),this.setDefaultTab(),this.controls.on("click","a",function(c){c.preventDefault(),b.settings.onBeforeChange.call(b),b.controller.removeClass("pws_tab_active"),a(this).addClass("pws_tab_active");var d=a(this).data("tab-id"),e=b.selector.children('[data-pws-tab="'+d+'"]');b.tabs.removeClass("pws_show"),setTimeout(function(){b.tabs.hide(),e.show()},400),setTimeout(function(){e.addClass("pws_show"),b.settings.onAfterChange.call(b)},450)}),this.addResponsiveFeature(),this.settings.onAfterInit.call(this)},setOption:function(a,b){this.settings[a]=b},destroy:function(){this.controls.remove(),this.selector.unwrap().removeClass("pws_tabs_list"),this.tabs.show().removeClass("pws_tab_single pws_hide pws_show").removeAttr("style")},rebuild:function(){this.destroy(),this.init()},addTab:function(b){var c={id:"",name:"",icon:"",content:""},d=a.extend({},c,b),e=a("<div />").appendTo(this.selector).addClass("pws_tab_single pws_hide").attr("data-pws-tab",d.id).attr("data-pws-tab-name",d.name).hide().html(d.content);this.setControl(d.id,d.name),d.icon&&(this.setIcon(d.id,d.icon),e.attr("data-pws-tab-icon",d.icon)),this.controller=this.controls.find("a"),this.tabs=this.selector.children("[data-pws-tab]")},removeTab:function(a){var b=this.tabs.eq(a-1);b.hasClass("pws_show")&&this.setOption("defaultTab",1),b.remove(),this.controller.eq(a-1).remove(),this.rebuild()}},a.fn[e]=function(b){var c=a.makeArray(arguments),d=c.slice(1);return this.each(function(){var c=a.data(this,e);if(!c){var h=new g(this,b);return a.data(this,e,h),h}if(c.settings[b]){var f=d.toString();c.setOption(b,f),c.rebuild()}"addTab"===b&&c.addTab(d[0]),"removeTab"===b&&c.removeTab(d[0]),"destroy"===b&&c.destroy(),"rebuild"===b&&c.rebuild()})}}(jQuery,window,document);